import numpy as np
import json

arr = []

with open("local_trust_N2.json", 'r') as local_trust_file:
  data = json.load(local_trust_file)
  data_keys = list(data.keys())
  #print(len(data.keys()))

  with open("clean_network_1116612649972719617_F_TSM_OUPUT.txt", "r") as global_trust_file:
    global_trust_lines = global_trust_file.readlines()

    len1 = len(global_trust_lines)
    len2 = len(data)

    print("len1, len2", len1, len2)

    for i in range(min(len1, len2)):
      local_trust = data[data_keys[i]]
      global_trust = global_trust_lines[i]

      curr_arr = []

      curr_arr.append(float(local_trust["trusting_others"]))
      curr_arr.append(float(local_trust["trusted_by_others"]))

      global_trust = global_trust.split(",")

      curr_arr.append(float(global_trust[1]))
      curr_arr.append(float(global_trust[2]))
      
      arr.append(curr_arr)

arr = np.array(arr)
print(arr)
print(arr.dtype)
np.save("trust.npy", arr)
